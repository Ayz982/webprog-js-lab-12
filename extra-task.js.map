{"version":3,"file":"extra-task.js","sources":["../src/js/extra-task.js"],"sourcesContent":["let currentPage = 1; \r\nconst postsPerPage = 5;\r\n\r\nasync function fetchPosts(page, limit) {\r\n    try {\r\n        const response = await fetch(`https://jsonplaceholder.typicode.com/posts?_page=${page}&_limit=${limit}`);\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP Помилка: ${response.status}`);\r\n        }\r\n        return await response.json();\r\n    } catch (error) {\r\n        console.error('Помилка завантаження постів:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function displayPosts(posts) {\r\n    const postContainer = document.getElementById('postContainer');\r\n\r\n    posts.forEach(post => {\r\n        const postElement = document.createElement('div');\r\n        postElement.classList.add('post');\r\n        postElement.innerHTML = `\r\n            <h2>${post.title}</h2>\r\n            <p>${post.body}</p>\r\n            <button class=\"button show-comments\" data-post-id=\"${post.id}\">Показати коментарі</button>\r\n            <div class=\"comments\" id=\"comments-${post.id}\"></div>\r\n        `;\r\n\r\n        postContainer.appendChild(postElement);\r\n    });\r\n    document.querySelectorAll('.show-comments').forEach(button => {\r\n        button.addEventListener('click', function() {\r\n            const postId = this.getAttribute('data-post-id');\r\n            loadComments(postId);\r\n        });\r\n    });\r\n}\r\n\r\nfunction refreshPosts() {\r\n    const postContainer = document.getElementById('postContainer');\r\n    postContainer.innerHTML = ''; \r\n    currentPage = 1; \r\n    loadInitialPosts();\r\n}\r\n\r\nasync function loadInitialPosts() {\r\n    const posts = await fetchPosts(currentPage, postsPerPage);\r\n    displayPosts(posts);\r\n}\r\n\r\nasync function loadMorePosts() {\r\n    currentPage++;\r\n    const posts = await fetchPosts(currentPage, postsPerPage);\r\n    displayPosts(posts);\r\n}\r\n\r\nasync function fetchComments(postId) {\r\n    try {\r\n        const response = await fetch(`https://jsonplaceholder.typicode.com/comments?postId=${postId}`);\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP Помилка: ${response.status}`);\r\n        }\r\n        return await response.json();\r\n    } catch (error) {\r\n        console.error(`Помилка завантаження коментарів до поста ${postId}:`, error);\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function loadComments(postId) {\r\n    const commentsContainer = document.getElementById(`comments-${postId}`);\r\n    if (commentsContainer.innerHTML !== '') {\r\n        commentsContainer.innerHTML = '';\r\n        return;\r\n    }\r\n\r\n    commentsContainer.innerHTML = 'Завантаження коментарів...';\r\n\r\n    const comments = await fetchComments(postId);\r\n    \r\n    if (comments.length === 0) {\r\n        commentsContainer.innerHTML = '<p>Коментарів немає.</p>';\r\n        return;\r\n    }\r\n\r\n    commentsContainer.innerHTML = comments.map(comment => `\r\n        <div class=\"comment\">\r\n            <p><strong>${comment.name}</strong>: ${comment.body}</p>\r\n            <small>Email: ${comment.email}</small>\r\n        </div>\r\n    `).join('');\r\n}\r\n\r\nasync function fetchPhotos() {\r\n    try {\r\n        const response = await fetch('https://picsum.photos/v2/list?limit=10'); \r\n        if (!response.ok) {\r\n            throw new Error(`HTTP Помилка: ${response.status}`);\r\n        }\r\n        return await response.json();\r\n    } catch (error) {\r\n        console.error('Помилка завантаження фото:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function displayPhotos() {\r\n    const photoContainer = document.getElementById('photos');\r\n    photoContainer.innerHTML = 'Завантаження фото...';\r\n\r\n    const photos = await fetchPhotos();\r\n    photoContainer.innerHTML = photos.map(photo => `\r\n        <div class=\"photo\">\r\n            <img src=\"${photo.download_url}\" alt=\"${photo.author}\" />\r\n            <p>Автор: ${photo.author}</p>\r\n        </div>\r\n    `).join('');\r\n}\r\n\r\ndocument.getElementById('refreshPostsButton').addEventListener('click', refreshPosts);\r\ndocument.getElementById('loadMorePostsButton').addEventListener('click', loadMorePosts);\r\ndocument.getElementById('loadPhotosButton').addEventListener('click', displayPhotos);\r\n\r\nloadInitialPosts();"],"names":["currentPage","postsPerPage","fetchPosts","page","limit","response","error","displayPosts","posts","postContainer","post","postElement","button","postId","loadComments","refreshPosts","loadInitialPosts","loadMorePosts","fetchComments","commentsContainer","comments","comment","fetchPhotos","displayPhotos","photoContainer","photos","photo"],"mappings":"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"}